#pragma once
#ifndef INC_CMYSQLQUERY_H
#define INC_CMYSQLQUERY_H


#include <string>
#include <stack>
#include <boost/variant.hpp>

using std::string;
using std::stack;

#include "main.h"


class CMySQLResult;
class CMySQLConnection;
class COrm;


class CMySQLQuery
{
public:
	static CMySQLQuery Create(
<<<<<<< HEAD
		string query, CMySQLConnection *connection,
		string cbname, stack< boost::variant<cell, string> > cbparams
=======
		string query, CMySQLConnection *connection, unsigned int connection_id,
		string cbname, stack<boost::variant<cell, string>> cbparams,
		COrm *orm_object = NULL, unsigned short orm_querytype = 0
>>>>>>> 9015ced... re-enabled orm system
	);


	string Query;

<<<<<<< HEAD
	CMySQLConnection *Connection = NULL;
	CMySQLResult *Result = NULL;
=======
	CMySQLConnection *Connection;
	CMySQLResult *Result;

>>>>>>> 9015ced... re-enabled orm system
	struct s_Callback
	{
		stack< boost::variant<cell, string> > Params;
		string Name;
	} Callback;

<<<<<<< HEAD
	//COrm *OrmObject;
	//unsigned short OrmQueryType;
	CMySQLQuery() {}
=======
	struct s_Orm
	{
		s_Orm() :
			Object(NULL),
			Type(0)
		{}
		
		COrm *Object;
		unsigned short Type;
	} Orm;


	CMySQLQuery() :
		Connection(NULL),
		Result(NULL)
	{}
>>>>>>> 9015ced... re-enabled orm system
	~CMySQLQuery() {}
	
};


#endif // INC_CMYSQLQUERY_H
